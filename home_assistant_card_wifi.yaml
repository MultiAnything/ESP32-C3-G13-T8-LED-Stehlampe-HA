# Home Assistant Karten-Konfiguration für WiFi Signal
# Diese Konfiguration kann in einer Lovelace-Karte verwendet werden
# 
# Verwendung:
# 1. In Home Assistant: Dashboard bearbeiten → Karte hinzufügen
# 2. "Manuelle Karte" auswählen
# 3. YAML-Modus aktivieren
# 4. Diese Konfiguration einfügen und anpassen

type: gauge
entity: sensor.wifi_signal
name: WiFi Signalstärke
unit: dBm
min: -100
max: -30
severity:
  green: -50
  yellow: -70
  red: -100
needle: true

# Alternative: Template-Karte mit detaillierter Anzeige
# Diese Karte zeigt:
# - WiFi Symbol mit Farbbereichen (grün/orange/rot)
# - Aktueller Wert in dBm
# - Min/Max Range
# - Signalqualität als Text

type: custom:mushroom-entity-card
entity: sensor.wifi_signal
name: WiFi Signal
icon: mdi:wifi
icon_color: |
  {% set signal = states('sensor.wifi_signal') | float %}
  {% if signal > -50 %}
    green
  {% elif signal > -70 %}
    orange
  {% else %}
    red
  {% endif %}
secondary_info: |
  {{ states('sensor.wifi_signal') }} dBm
  ({{ states('text_sensor.wifi_signalqualitat') }})
  Range: -100 dBm bis -30 dBm

# Oder als einfache Entitätskarte mit Template:
type: entity
entity: sensor.wifi_signal
name: WiFi Signal
icon: mdi:wifi
icon_color: |
  {% set status = states('text_sensor.wifi_signal_status') %}
  {% if status == 'grün' %}
    green
  {% elif status == 'orange' %}
    orange
  {% else %}
    red
  {% endif %}
secondary_info: |
  {{ states('text_sensor.wifi_signalqualitat') }}
  Range: -100 dBm bis -30 dBm

# Erweiterte Karte mit Gauge und Details:
type: vertical-stack
cards:
  - type: gauge
    entity: sensor.wifi_signal
    name: WiFi Signalstärke
    unit: dBm
    min: -100
    max: -30
    severity:
      green: -50
      yellow: -70
      red: -100
    needle: true
  
  - type: entities
    title: WiFi Details
    entities:
      - entity: sensor.wifi_signal
        name: Aktueller Wert
        secondary_info: last-changed
      - entity: text_sensor.wifi_signalqualitat
        name: Signalqualität
      - type: divider
      - type: markdown
        content: |
          **Signalbereich:**
          - **Grün (Sehr gut):** > -50 dBm
          - **Orange (Gut/Mittel):** -50 bis -70 dBm
          - **Rot (Schlecht):** < -70 dBm
          - **Min/Max:** -100 dBm bis -30 dBm

